-- Очистка таблиц перед вставкой
TRUNCATE TABLE Payments, Registrations, Cars, Events, Locations, Users, Reviews RESTART IDENTITY CASCADE;

-- Вставка пользователей (добавим больше участников и организаторов)
INSERT INTO Users (username, email, password, role, city)
VALUES 
    ('Организатор2', 'or@drift.com', 'admin12', 'организатор', 'Москва'),
    ('ДрифтКинг', 'king@drift.com', '12345', 'участник', 'Москва'),
    ('Организатор1', 'org@drift.com', 'admin123', 'организатор', 'Москва'),
    ('СкоростнаяКоролева', 'queen@drift.com', 'queen777', 'участник', 'Краснодар'),
    ('ТурбоМакс', 'turbo@drift.com', 'turbo2025', 'участник', 'Санкт-Петербург'),
    ('ДрифтМастер', 'master@drift.com', 'master99', 'участник', 'Екатеринбург'),
    ('Организатор3', 'org3@drift.com', 'admin2025', 'организатор', 'Краснодар'),
    ('НочнойГонщик', 'night@drift.com', 'night123', 'участник', 'Новосибирск'),
    ('ДрифтЛеди', 'lady@drift.com', 'lady888', 'участник', 'Казань'),
    ('АдминДрифт', 'admin@drift.com', 'adminpass', 'организатор', 'Санкт-Петербург');

-- Вставка локаций (добавим больше трасс в разных городах)
INSERT INTO Locations (name, address, city, capacity)
VALUES 
    ('Московская Трасса', 'Волоколамское шоссе, Москва', 'Москва', 1000),
    ('Красное Кольцо', 'Краснодар, ул. Стадионная', 'Краснодар', 500),
    ('Питерский Дрифт', 'Санкт-Петербург, Приморское шоссе', 'Санкт-Петербург', 800),
    ('Екатеринбург Арена', 'Екатеринбург, ул. Громова', 'Екатеринбург', 600),
    ('Казанский Круг', 'Казань, ул. Спортивная', 'Казань', 400),
    ('Сибирская Трасса', 'Новосибирск, ул. Ленина', 'Новосибирск', 700);

-- Вставка мероприятий (добавим больше событий с разными статусами)
INSERT INTO Events (title, description, date, location_id, organizer_id, spectator_price, participant_price, status, photo_url)
VALUES 
    ('Дрифт Битва 2025', 'Эпичная дрифт-битва!', '2025-05-25 14:00:00', 1, 1, 600.00, 2500.00, 'запланировано', 'images/20725c2244b8baec44c83980b381ddba.jpg'),
    ('Дрифт Фест', 'Казуальная дрифт-встреча', '2025-06-01 18:00:00', 2, 1, 300.00, 1500.00, 'запланировано', 'images/6cce0edbba47db4eb2061add7a45b041.jpg'),
    ('Большие гонки', 'Огненное сражение', '2025-08-06 16:00:00', 2, 3, 500.00, 2000.00, 'запланировано', 'images/82a80a6c4dae2988b62748f3761910ec.jpg'),
    ('Питерский Дрифт 2025', 'Скоростной заезд в Питере', '2025-07-15 12:00:00', 3, 7, 400.00, 1800.00, 'запланировано', 'images/piter_drift.jpg'),
    ('Екатеринбург Дрифт', 'Жесткий дрифт на Урале', '2025-09-10 15:00:00', 4, 3, 350.00, 1700.00, 'запланировано', 'images/ekat_drift.jpg'),
    ('Казанский Дрифт-Фест', 'Гонки и шоу в Казани', '2025-06-20 17:00:00', 5, 1, 450.00, 1900.00, 'завершено', 'images/kazan_fest.jpg'),
    ('Сибирский Заезд', 'Дрифт под сибирским небом', '2025-08-01 14:00:00', 6, 10, 500.00, 2000.00, 'отменено', 'images/siberia_drift.jpg'),
    ('Московский Финал', 'Финал сезона в Москве', '2025-10-05 13:00:00', 1, 7, 700.00, 3000.00, 'запланировано', 'images/moscow_final.jpg');

-- Вставка регистраций (добавим больше регистраций с разными ролями и статусами)
INSERT INTO Registrations (user_id, event_id, registration_date, status, role)
VALUES 
    (2, 1, '2025-05-18 10:00:00', 'зарегистрировано', 'участник'),   -- ДрифтКинг на Дрифт Битва 2025 как участник
    (4, 2, '2025-05-18 10:05:00', 'зарегистрировано', 'зритель'),   -- СкоростнаяКоролева на Дрифт Фест как зритель
    (2, 3, '2025-05-18 10:10:00', 'зарегистрировано', 'зритель'),   -- ДрифтКинг на Большие гонки как зритель
    (4, 1, '2025-05-18 10:15:00', 'отменено', 'участник'),         -- СкоростнаяКоролева на Дрифт Битва 2025 как участник (отменено)
    (5, 4, '2025-05-18 10:20:00', 'зарегистрировано', 'участник'),  -- ТурбоМакс на Питерский Дрифт 2025 как участник
    (6, 5, '2025-05-18 10:25:00', 'зарегистрировано', 'участник'),  -- ДрифтМастер на Екатеринбург Дрифт как участник
    (8, 6, '2025-05-18 10:30:00', 'зарегистрировано', 'зритель'),   -- НочнойГонщик на Казанский Дрифт-Фест как зритель
    (9, 7, '2025-05-18 10:35:00', 'отменено', 'участник'),         -- ДрифтЛеди на Сибирский Заезд как участник (отменено)
    (5, 8, '2025-05-18 10:40:00', 'зарегистрировано', 'зритель'),   -- ТурбоМакс на Московский Финал как зритель
    (9, 1, '2025-05-18 10:45:00', 'зарегистрировано', 'участник'),  -- ДрифтЛеди на Дрифт Битва 2025 как участник
    (6, 2, '2025-05-18 10:50:00', 'зарегистрировано', 'зритель'),   -- ДрифтМастер на Дрифт Фест как зритель
    (8, 4, '2025-05-18 10:55:00', 'зарегистрировано', 'участник');  -- НочнойГонщик на Питерский Дрифт 2025 как участник

-- Вставка оплат (добавим оплаты для всех регистраций)
INSERT INTO Payments (registration_id, amount, payment_date, status)
VALUES 
    (1, 2500.00, '2025-05-18 10:15:00', 'ожидает оплаты'),    -- Оплата ДрифтКинга за Дрифт Битва 2025 (участник)
    (2, 300.00, '2025-05-18 10:20:00', 'ожидает оплаты'),     -- Оплата СкоростнойКоролевы за Дрифт Фест (зритель)
    (3, 500.00, '2025-05-18 10:25:00', 'оплачено'),           -- Оплата ДрифтКинга за Большие гонки (зритель)
    (4, 2500.00, '2025-05-18 10:30:00', 'ожидает оплаты'),    -- Оплата СкоростнойКоролевы за Дрифт Битва 2025 (участник)
    (5, 1800.00, '2025-05-18 10:35:00', 'оплачено'),          -- Оплата ТурбоМакса за Питерский Дрифт 2025 (участник)
    (6, 1700.00, '2025-05-18 10:40:00', 'ожидает оплаты'),    -- Оплата ДрифтМастера за Екатеринбург Дрифт (участник)
    (7, 450.00, '2025-05-18 10:45:00', 'оплачено'),           -- Оплата НочногоГонщика за Казанский Дрифт-Фест (зритель)
    (8, 2000.00, '2025-05-18 10:50:00', 'оплачено'),          -- Оплата ДрифтЛеди за Сибирский Заезд (отменено)
    (9, 700.00, '2025-05-18 10:55:00', 'оплачено'),           -- Оплата ТурбоМакса за Московский Финал (зритель)
    (10, 2500.00, '2025-05-18 11:00:00', 'ожидает оплаты'),   -- Оплата ДрифтЛеди за Дрифт Битва 2025 (участник)
    (11, 300.00, '2025-05-18 11:05:00', 'оплачено'),          -- Оплата ДрифтМастера за Дрифт Фест (зритель)
    (12, 1800.00, '2025-05-18 11:10:00', 'оплачено');         -- Оплата НочногоГонщика за Питерский Дрифт 2025 (участник)

-- Вставка машин (добавим больше машин для участников)
INSERT INTO Cars (user_id, event_id, model, year, color, photo_url)
VALUES 
    (2, 1, 'Тойота Супра', 1998, 'Чёрный', 'static/images/supra.jpg'),
    (4, 1, 'Ниссан 350Z', 2005, 'Синий', 'static/images/350z.jpg'),
    (2, NULL, 'Мазда RX-7', 1995, 'Красный', 'static/images/rx7.jpg'),
    (5, 4, 'БМВ M3', 2010, 'Белый', 'static/images/bmw_m3.jpg'),
    (6, 5, 'Митсубиси Лансер Эво', 2008, 'Серебристый', 'static/images/lancer_evo.jpg'),
    (8, 4, 'Субару Импреза', 2012, 'Зеленый', 'static/images/impreza.jpg'),
    (9, 1, 'Ниссан Сильвия', 2002, 'Фиолетовый', 'static/images/silvia.jpg'),
    (2, 3, 'Тойота Марк II', 1997, 'Чёрный', 'static/images/mark2.jpg'),
    (4, NULL, 'Хонда С2000', 2004, 'Жёлтый', 'static/images/s2000.jpg');

-- Вставка отзывов (для завершенных мероприятий)
INSERT INTO Reviews (user_id, event_id, rating, comment, review_date)
VALUES 
    (8, 6, 4, 'Отличное мероприятие, но парковка была переполнена.', '2025-06-21 12:00:00'),
    (6, 6, 5, 'Шикарное шоу, всё на уровне!', '2025-06-21 13:00:00'),
    (4, 2, 3, 'Ожидала большего, мало участников.', '2025-06-02 10:00:00'),
    (2, 1, 5, 'Лучшая дрифт-битва, в которой я участвовал!', '2025-05-26 09:00:00'),
    (9, 6, 4, 'Хорошая атмосфера, но звук был слабоват.', '2025-06-21 14:00:00');

-- Проверка данных
SELECT * FROM Events;
SELECT * FROM Users;
SELECT * FROM Registrations;
SELECT * FROM Payments;
SELECT * FROM Cars;
SELECT * FROM Reviews;

SELECT username, email, role FROM Users WHERE email = 'or@drift.com';